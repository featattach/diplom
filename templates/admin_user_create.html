{% extends "base.html" %}
{% block title %}Добавить учётную запись — Система учёта оборудования{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="card-title">Добавить учётную запись</h1>
    <a href="{{ request.url_for('admin_users') }}" class="btn btn-outline-secondary">К списку</a>
</div>
{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}
<form method="post" action="{{ request.url_for('admin_user_create_post') }}">
    <div class="mb-3">
        <label class="form-label">Логин *</label>
        <input type="text" name="username" class="form-control" value="{{ username or '' }}" required autocomplete="username">
    </div>
    <div class="mb-3">
        <label class="form-label">Пароль *</label>
        <input type="password" name="password" class="form-control" required autocomplete="new-password">
    </div>
    <div class="mb-3">
        <label class="form-label">Повторите пароль *</label>
        <input type="password" name="password_confirm" class="form-control" required autocomplete="new-password">
    </div>
    <div class="mb-3">
        <label class="form-label">Роль</label>
        <select name="role" class="form-select">
            {% for c in role_choices %}
            <option value="{{ c.value }}">{{ c.label }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label">Статус</label>
        <div class="form-check">
            <input class="form-check-input" type="checkbox" name="is_active" value="1" id="is_active" checked>
            <label class="form-check-label" for="is_active">Учётная запись активна</label>
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Создать</button>
    <a href="{{ request.url_for('admin_users') }}" class="btn btn-outline-secondary">Отмена</a>
</form>
{% endblock %}
